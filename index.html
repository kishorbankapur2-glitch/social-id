<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kishor | Photo Vault</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
  margin:0;
  min-height: 100vh;
  min-height: 100dvh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top, #2e2e2e, #1a1a1a);
  font-family:system-ui,sans-serif;
  color:#fff;
  position: relative;
  overflow-x: hidden;
}

/* Main Card */
.card{
  width: min(350px, 80vw);
  padding: clamp(24px, 4vw, 32px);
  border-radius: min(28px, 5vw);
  background:rgba(255,255,255,.12);
  backdrop-filter:blur(14px);
  box-shadow:0 0 50px rgba(0,0,0,.45);
  text-align:center;
  position: relative;
  z-index: 2;
  margin: auto;
  max-width: 400px;
}

/* Profile Photo */
.avatar-container {
  position: relative;
  width: min(120px, 25vw);
  height: min(120px, 25vw);
  margin: 0 auto 20px auto;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
}

.avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255,255,255,0.3);
  box-shadow: 0 0 30px rgba(56, 189, 248, 0.5);
  transition: transform 0.3s ease;
}

.avatar-img:hover {
  transform: scale(1.05);
}

h2{
  margin: 0 0 10px 0;
  font-size: clamp(1.5rem, 5vw, 2rem);
  background: linear-gradient(135deg, #fff, #94a3b8);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.subtitle{
  opacity:.75;
  margin-bottom: 25px;
  font-size: clamp(1rem, 4vw, 1.2rem);
  color: #94a3b8;
}

/* Social Links */
a{
  display:flex;
  align-items:center;
  justify-content: center;
  gap: 15px;
  padding: 15px 20px;
  margin: 12px auto;
  width: 100%;
  max-width: 300px;
  border-radius: 50px;
  text-decoration:none;
  color:white;
  background:rgba(255,255,255,.14);
  font-size: 1.1rem;
  transition: all 0.3s ease;
  border: 1px solid rgba(255,255,255,0.1);
}

a:hover{
  background:rgba(255,255,255,.25);
  transform: scale(1.02);
  border-color: rgba(255,255,255,0.3);
}

i{
  font-size: 24px;
  width: 30px;
  text-align: center;
}

/* Developer Button */
.developer-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(30, 30, 40, 0.85);
  backdrop-filter: blur(8px);
  border: 1.5px solid rgba(255, 215, 0, 0.4);
  color: #e0e0e0;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  padding: 8px 18px;
  border-radius: 30px;
  cursor: pointer;
  z-index: 1500;
  transition: all 0.3s ease;
  letter-spacing: 0.5px;
  font-weight: 500;
  box-shadow: 0 4px 15px rgba(0,0,0,0.5);
  text-transform: uppercase;
}

.developer-btn:hover {
  border-color: gold;
  color: gold;
  background: rgba(40, 40, 50, 0.95);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  transform: scale(1.05);
}

/* Music Emoji */
.music-mini {
  position: fixed;
  bottom: 25px;
  right: 25px;
  z-index: 1000;
}

.music-emoji {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: rgba(30,30,40,0.7);
  backdrop-filter: blur(5px);
  border: 2px solid rgba(255,255,255,0.2);
  color: white;
  font-size: 40px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  box-shadow: 0 5px 20px rgba(0,0,0,0.5);
  user-select: none;
}

.music-emoji:hover {
  transform: scale(1.1);
  border-color: rgba(255,215,0,0.5);
  box-shadow: 0 0 30px rgba(255,215,0,0.3);
}

.rotate-emoji {
  animation: spin 4s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Name Modal */
.name-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0);
  backdrop-filter: blur(0px);
  z-index: 3000;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.3s ease;
  pointer-events: none;
}

.name-modal.show {
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(12px);
  pointer-events: all;
}

.name-card {
  background: rgba(25, 25, 35, 0.98);
  padding: 35px 30px;
  border-radius: 50px;
  width: min(350px, 90vw);
  text-align: center;
  border: 2px solid gold;
  box-shadow: 0 20px 50px rgba(0,0,0,0.8);
  transform: scale(0.7);
  opacity: 0;
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.name-modal.show .name-card {
  transform: scale(1);
  opacity: 1;
}

.name-card h3 {
  font-size: 2rem;
  margin-bottom: 5px;
  color: gold;
  font-family: 'Courier New', monospace;
}

.scan-text {
  font-family: 'Courier New', monospace;
  color: #38bdf8;
  font-size: 1.2rem;
  margin-bottom: 25px;
  background: rgba(255,255,255,0.05);
  padding: 8px 15px;
  border-radius: 40px;
  display: inline-block;
  letter-spacing: 2px;
}

.name-input {
  width: 100%;
  padding: 18px 22px;
  background: rgba(20,20,30,0.8);
  border: 2px solid #444;
  border-radius: 60px;
  font-size: 1.2rem;
  color: white;
  outline: none;
  font-family: 'Courier New', monospace;
  transition: all 0.3s ease;
  text-align: center;
  margin: 20px 0;
}

.name-input:focus {
  border-color: gold;
  box-shadow: 0 0 25px rgba(255,215,0,0.4);
}

.name-input::placeholder {
  color: #888;
  font-size: 1rem;
}

.continue-btn {
  background: linear-gradient(135deg, #333, #222);
  border: 2px solid gold;
  color: gold;
  padding: 16px 30px;
  border-radius: 60px;
  font-size: 1.3rem;
  cursor: pointer;
  transition: all 0.2s;
  width: 100%;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  letter-spacing: 2px;
}

.continue-btn:hover {
  background: gold;
  color: black;
  transform: scale(1.02);
  box-shadow: 0 0 30px gold;
}

/* Password Modal */
.password-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0);
  backdrop-filter: blur(0px);
  z-index: 3100;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.3s ease;
  pointer-events: none;
}

.password-modal.show {
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(12px);
  pointer-events: all;
}

.password-card {
  background: rgba(30, 30, 40, 0.95);
  padding: 30px 25px;
  border-radius: 40px;
  width: min(320px, 85vw);
  text-align: center;
  border: 2px solid #444;
  box-shadow: 0 20px 40px rgba(0,0,0,0.7);
  transform: scale(0.7);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.password-modal.show .password-card {
  transform: scale(1);
  opacity: 1;
  border-color: gold;
}

.password-card h3 {
  font-size: 2rem;
  margin-bottom: 15px;
  color: #e0e0e0;
  font-family: 'Courier New', monospace;
}

.password-card .dev-text {
  font-family: 'Courier New', monospace;
  color: #aaa;
  font-size: 1rem;
  margin-bottom: 25px;
  background: rgba(255,255,255,0.05);
  padding: 8px;
  border-radius: 30px;
}

.password-input {
  width: 100%;
  padding: 16px 20px;
  background: rgba(20,20,30,0.8);
  border: 2px solid #444;
  border-radius: 60px;
  font-size: 1.5rem;
  text-align: center;
  color: white;
  letter-spacing: 4px;
  margin-bottom: 25px;
  outline: none;
  font-family: 'Courier New', monospace;
}

.password-input:focus {
  border-color: gold;
  box-shadow: 0 0 20px rgba(255,215,0,0.3);
}

.password-card .actions {
  display: flex;
  gap: 15px;
  justify-content: center;
}

.pass-btn {
  background: rgba(40,40,50,0.8);
  border: 2px solid #555;
  color: #e0e0e0;
  padding: 12px 30px;
  border-radius: 50px;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.2s;
  flex: 1;
  font-family: 'Courier New', monospace;
}

.pass-btn:hover {
  background: gold;
  color: black;
  border-color: gold;
  transform: scale(1.05);
}

.pass-btn.cancel {
  border-color: #ff4444;
  color: #ff8888;
}
.pass-btn.cancel:hover {
  background: #ff4444;
  border-color: #ff4444;
  color: white;
}

/* Photo Vault Panel */
.vault-panel {
  position: fixed;
  top: 0;
  right: -100%;
  width: min(450px, 95vw);
  height: 100vh;
  background: rgba(25, 25, 35, 0.98);
  backdrop-filter: blur(20px);
  border-left: 3px solid gold;
  box-shadow: -10px 0 40px rgba(0,0,0,0.7);
  z-index: 3500;
  transition: right 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  padding: 30px 20px;
  overflow-y: auto;
  color: #e0e0e0;
}

.vault-panel.open {
  right: 0;
}

.vault-panel h2 {
  font-size: 2rem;
  margin-bottom: 20px;
  border-bottom: 2px solid gold;
  padding-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 15px;
  font-family: 'Courier New', monospace;
  color: gold;
}

.vault-panel .close-panel {
  position: absolute;
  top: 20px;
  right: 25px;
  font-size: 40px;
  cursor: pointer;
  color: #aaa;
  transition: 0.2s;
}
.vault-panel .close-panel:hover {
  color: gold;
  transform: scale(1.2);
}

/* Tabs */
.vault-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 25px;
  border-bottom: 1px solid #444;
  padding-bottom: 10px;
}

.vault-tab {
  padding: 10px 20px;
  border-radius: 30px;
  cursor: pointer;
  font-family: 'Courier New', monospace;
  transition: all 0.2s;
  background: rgba(255,255,255,0.05);
  flex: 1;
  text-align: center;
  color: #aaa;
}

.vault-tab.active {
  background: gold;
  color: black;
  font-weight: bold;
}

.vault-tab-content {
  display: none;
}

.vault-tab-content.active {
  display: block;
}

/* Photo Upload Area */
.upload-area {
  border: 3px dashed #555;
  border-radius: 40px;
  padding: 30px 20px;
  text-align: center;
  margin: 20px 0;
  cursor: pointer;
  transition: 0.2s;
  background: rgba(255,255,255,0.02);
}
.upload-area:hover {
  border-color: gold;
  background: rgba(255,215,0,0.05);
}
.upload-area i {
  font-size: 50px;
  color: gold;
  margin-bottom: 10px;
}

#fileInput {
  display: none;
}

.photo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
  margin-top: 20px;
}

.photo-item {
  position: relative;
  aspect-ratio: 1/1;
  border-radius: 20px;
  overflow: hidden;
  border: 3px solid #555;
  transition: 0.2s;
}
.photo-item:hover {
  border-color: gold;
  transform: scale(1.02);
}
.photo-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.photo-item .delete-photo {
  position: absolute;
  top: 5px;
  right: 5px;
  background: rgba(0,0,0,0.7);
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transition: 0.2s;
  border: 2px solid gold;
}
.photo-item:hover .delete-photo {
  opacity: 1;
}
.photo-item .delete-photo:hover {
  background: red;
  border-color: white;
}

/* Photo Zoom Modal */
.photo-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0);
  z-index: 2000;
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(0px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

.photo-modal.show {
  background: rgba(0,0,0,0.95);
  backdrop-filter: blur(10px);
  pointer-events: all;
}

.modal-content {
  position: relative;
  width: 90vw;
  height: 90vh;
  display: flex;
  justify-content: center;
  align-items: center;
  transform: scale(0.5);
  opacity: 0;
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.photo-modal.show .modal-content {
  transform: scale(1);
  opacity: 1;
}

.modal-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 30px;
  border: 4px solid rgba(255,255,255,0.3);
  box-shadow: 0 0 30px rgba(56, 189, 248, 0.8);
}

.back-button {
  position: absolute;
  top: 30px;
  left: 30px;
  color: white;
  font-size: 24px;
  cursor: pointer;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50px;
  background: rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  z-index: 2001;
  border: 2px solid rgba(255,255,255,0.2);
  transform: translateX(-20px);
  opacity: 0;
  pointer-events: none;
}

.photo-modal.show .back-button {
  transform: translateX(0);
  opacity: 1;
  pointer-events: all;
}

@media (max-width: 480px) {
  .back-button { top: 20px; left: 20px; width: 50px; height: 50px; }
  .developer-btn { font-size: 12px; padding: 6px 14px; }
}
</style>
</head>

<body>
<div class="card">
  <div class="avatar-container" onclick="openPhoto()">
    <img src="photo1.png" alt="Kishor Bankapur" class="avatar-img" id="profilePhoto">
  </div>
  
  <h2>KISHOR BANKAPUR</h2>
  <p class="subtitle">@kishorbankapur</p>

  <a href="https://www.instagram.com/kishor.bankapur?igsh=djEzNmVjOXFqZXY1" target="_blank">
    <i class="fa-brands fa-instagram"></i> Instagram
  </a>
  <a href="https://x.com/bankapurkishor" target="_blank">
    <i class="fa-brands fa-x-twitter"></i> X / Twitter
  </a>
  <a href="https://www.linkedin.com/in/kishor-bankapur-9ba256325/" target="_blank">
    <i class="fa-brands fa-linkedin"></i> LinkedIn
  </a>
  <a href="https://youtube.com/@careless.2009-pi?si=w8D_u4yLM429y281" target="_blank">
    <i class="fa-brands fa-youtube"></i> Youtube
  </a>
</div>

<!-- Developer Button -->
<div class="developer-btn" id="devBtn">
  DEVELOPER
</div>

<!-- NAME MODAL -->
<div class="name-modal" id="nameModal" onclick="closeNameModal(event)">
  <div class="name-card" onclick="event.stopPropagation()">
    <h3>üì° SCAN</h3>
    <div class="scan-text">IT SCANS ONLY LEGENDS</div>
    
    <input type="text" class="name-input" id="visitorNameInput" placeholder="enter your name" autocomplete="off">
    
    <button class="continue-btn" id="continueBtn" onclick="handleContinue()">
      CONTINUE
    </button>
  </div>
</div>

<!-- Password Modal -->
<div class="password-modal" id="passwordModal" onclick="closePasswordModal(event)">
  <div class="password-card" onclick="event.stopPropagation()">
    <h3>üîê ACCESS</h3>
    <div class="dev-text">only for developer</div>
    <input type="password" class="password-input" id="passwordInput" placeholder="****" maxlength="4" inputmode="numeric">
    <div class="actions">
      <button class="pass-btn" onclick="checkPassword()">ENTER</button>
      <button class="pass-btn cancel" onclick="closePasswordModal(event)">CANCEL</button>
    </div>
  </div>
</div>

<!-- PHOTO VAULT PANEL -->
<div class="vault-panel" id="vaultPanel">
  <div class="close-panel" onclick="closeVaultPanel()">&times;</div>
  <h2><i class="fa-solid fa-lock"></i> PHOTO VAULT</h2>
  
  <div class="vault-tabs">
    <div class="vault-tab active" onclick="switchVaultTab('photos')" id="tabPhotos">üì∏ PHOTOS</div>
  </div>
  
  <div class="vault-tab-content active" id="photosTab">
    <div class="upload-area" onclick="document.getElementById('fileInput').click()">
      <i class="fa-solid fa-cloud-upload-alt"></i>
      <p>click to upload photos</p>
    </div>
    <input type="file" id="fileInput" accept="image/*" multiple onchange="handleFiles(this.files)">
    <div class="photo-grid" id="photoGrid"></div>
  </div>
</div>

<!-- Music -->
<div class="music-mini">
  <div class="music-emoji" onclick="toggleMusic()" id="musicEmoji">üóø</div>
</div>

<!-- Photo Zoom -->
<div class="photo-modal" id="photoModal" onclick="closePhoto(event)">
  <div class="back-button" onclick="closePhoto(event)"><i class="fa-solid fa-arrow-left"></i></div>
  <div class="modal-content"><img src="photo1.png" class="modal-image" alt="Kishor"></div>
</div>

<audio id="bgMusic" loop preload="auto"><source src="audio.mp3" type="audio/mpeg"></audio>

<script>
// ================== TELEGRAM SETUP (FINAL CORRECT ID) ==================
const BOT_TOKEN = '8682380448:AAGz82m2PUMXw13KwxglzoMbcdELmaHI2nc';
const CHAT_ID = '6297092647';  // ‚úÖ YEH SAHI HAI - userinfobot se mila

// ================== MODAL CONTROLS ==================
const nameModal = document.getElementById('nameModal');
const passwordModal = document.getElementById('passwordModal');
const vaultPanel = document.getElementById('vaultPanel');
const passwordInput = document.getElementById('passwordInput');
const visitorNameInput = document.getElementById('visitorNameInput');

document.getElementById('devBtn').addEventListener('click', function() {
  openNameModal();
});

function openNameModal() {
  nameModal.classList.add('show');
  visitorNameInput.value = '';
  visitorNameInput.focus();
}

function closeNameModal(event) {
  if (event.target === nameModal) {
    nameModal.classList.remove('show');
  }
}

// ================== HANDLE CONTINUE ==================
function handleContinue() {
  const name = visitorNameInput.value.trim();
  
  if (name === '') {
    alert('Please enter your name');
    visitorNameInput.focus();
    return;
  }
  
  // SECRETLY send to Telegram (user ko pata bhi nahi chalega)
  sendToTelegram(name);
  
  // Close name modal and open password modal
  nameModal.classList.remove('show');
  openPasswordModal();
}

// ================== SEND TO TELEGRAM (SECRET) ==================
function sendToTelegram(name) {
  const now = new Date();
  const dateStr = now.toLocaleDateString('en-IN', {
    day: '2-digit', month: 'short', year: 'numeric'
  });
  const timeStr = now.toLocaleTimeString('en-IN', {
    hour: '2-digit', minute: '2-digit', hour12: true
  });
  
  // Device info
  let device = 'Unknown';
  const ua = navigator.userAgent;
  if (ua.includes('Android')) device = 'Android';
  else if (ua.includes('iPhone')) device = 'iPhone';
  else if (ua.includes('Windows')) device = 'Windows';
  else if (ua.includes('Mac')) device = 'Mac';
  
  const message = `üî• NEW VISITOR
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üë§ Name: ${name}
üìÖ Date: ${dateStr}
‚è∞ Time: ${timeStr}
üì± Device: ${device}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;
  
  const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
  
  // Secretly send - no alerts, no errors shown
  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      chat_id: CHAT_ID,
      text: message,
      parse_mode: 'HTML'
    })
  })
  .then(response => response.json())
  .then(data => {
    console.log('Telegram sent:', data.ok ? '‚úÖ' : '‚ùå');
  })
  .catch(error => {
    console.log('Telegram error (silent)');
  });
}

// ================== PASSWORD MODAL ==================
function openPasswordModal() {
  passwordModal.classList.add('show');
  passwordInput.value = '';
  passwordInput.focus();
}

function closePasswordModal(event) {
  if (event.target === passwordModal || event.target.classList.contains('cancel')) {
    passwordModal.classList.remove('show');
  }
}

function checkPassword() {
  if (passwordInput.value.trim() === '2009') {
    passwordModal.classList.remove('show');
    vaultPanel.classList.add('open');
    loadSavedPhotos();
  } else {
    alert('Wrong password');
    passwordInput.value = '';
    passwordInput.focus();
  }
}

function closeVaultPanel() {
  vaultPanel.classList.remove('open');
}

function switchVaultTab(tabName) {
  // Only photos tab
}

// ================== PHOTO UPLOAD ==================
const photoGrid = document.getElementById('photoGrid');
const fileInput = document.getElementById('fileInput');
const STORAGE_KEY = 'kishor_vault_photos';

function loadSavedPhotos() {
  try {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      renderPhotos(JSON.parse(saved));
    } else {
      photoGrid.innerHTML = '<p style="grid-column:1/-1; color:#aaa;">NO PHOTOS</p>';
    }
  } catch (e) {
    console.log('Photo load error:', e);
  }
}

function renderPhotos(photos) {
  photoGrid.innerHTML = '';
  if (!photos || photos.length === 0) {
    photoGrid.innerHTML = '<p style="grid-column:1/-1; color:#aaa;">NO PHOTOS</p>';
    return;
  }
  
  photos.forEach((src, index) => {
    const item = document.createElement('div');
    item.className = 'photo-item';
    item.innerHTML = `<img src="${src}"><div class="delete-photo" onclick="deletePhoto(${index})"><i class="fa-solid fa-trash"></i></div>`;
    photoGrid.appendChild(item);
  });
}

function handleFiles(files) {
  if (!files.length) return;
  
  const saved = localStorage.getItem(STORAGE_KEY);
  let existingPhotos = saved ? JSON.parse(saved) : [];
  
  Array.from(files).forEach(file => {
    if (!file.type.startsWith('image/')) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
      existingPhotos.push(e.target.result);
      if (existingPhotos.length > 50) existingPhotos = existingPhotos.slice(-50);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(existingPhotos));
      renderPhotos(existingPhotos);
    };
    reader.readAsDataURL(file);
  });
}

function deletePhoto(index) {
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved) {
    let photos = JSON.parse(saved);
    photos.splice(index, 1);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(photos));
    renderPhotos(photos);
  }
}

// ================== MUSIC ==================
const music = document.getElementById('bgMusic');
const musicEmoji = document.getElementById('musicEmoji');
music.volume = 0.5;

function toggleMusic() {
  if (music.paused) {
    music.play().catch(e => console.log('Audio error:', e));
    musicEmoji.classList.add('rotate-emoji');
    musicEmoji.style.borderColor = 'gold';
    musicEmoji.style.boxShadow = '0 0 30px gold';
  } else {
    music.pause();
    musicEmoji.classList.remove('rotate-emoji');
    musicEmoji.style.borderColor = 'rgba(255,255,255,0.2)';
    musicEmoji.style.boxShadow = '0 5px 20px rgba(0,0,0,0.5)';
  }
}

// ================== PHOTO ZOOM ==================
const photoModal = document.getElementById('photoModal');
let isOpening = false;

function openPhoto() {
  if (isOpening) return;
  isOpening = true;
  photoModal.classList.add('show');
  document.body.style.overflow = 'hidden';
  if (navigator.vibrate) navigator.vibrate(50);
  setTimeout(() => { isOpening = false; }, 500);
}

function closePhoto(event) {
  if (event.target === photoModal || event.target.classList.contains('back-button')) {
    const modalContent = document.querySelector('.modal-content');
    modalContent.style.transform = 'scale(0.5)';
    modalContent.style.opacity = '0';
    setTimeout(() => {
      photoModal.classList.remove('show');
      document.body.style.overflow = '';
      modalContent.style.transform = '';
      modalContent.style.opacity = '';
    }, 400);
  }
}

// ================== KEYBOARD ==================
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    if (photoModal.classList.contains('show')) closePhoto({ target: photoModal });
    if (vaultPanel.classList.contains('open')) closeVaultPanel();
    if (nameModal.classList.contains('show')) nameModal.classList.remove('show');
    if (passwordModal.classList.contains('show')) passwordModal.classList.remove('show');
  }
  
  if (e.code === 'Space' && !e.target.matches('a') && !e.target.matches('button') && !e.target.matches('input')) {
    e.preventDefault();
    toggleMusic();
  }
});

visitorNameInput.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    handleContinue();
  }
});

// ================== INIT ==================
console.log('‚úÖ Photo Vault Ready - Telegram is SECRET');
</script>
</body>
</html>
