<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kishor ¬∑ Photo Vault</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #000;
  background-image: radial-gradient(circle at center, #111 0%, #000 100%);
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  color: #fff;
  overflow-x: hidden;
}

/* main card ‚Äì signature nikhil style */
.main-card {
  width: min(380px, 90vw);
  background: #0a0a0a;
  border: 1px solid #1a1a1a;
  border-radius: 40px;
  padding: 45px 20px;
  text-align: center;
  box-shadow: 0 25px 60px rgba(0,0,0,0.9);
  position: relative;
}

/* profile */
.avatar-wrapper {
  width: 115px;
  height: 115px;
  margin: 0 auto 20px;
  padding: 3px;
  border: 2px solid #3b82f6;
  border-radius: 50%;
  cursor: pointer;
  transition: 0.3s;
}
.avatar-wrapper:hover { transform: scale(1.05); }

.avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

h2 {
  font-size: 1.4rem;
  letter-spacing: 2px;
  font-weight: 600;
  text-transform: uppercase;
  margin-bottom: 5px;
}

.subtitle {
  color: #3b82f6;
  font-size: 0.9rem;
  margin-bottom: 35px;
  font-weight: 500;
}

/* 2‚Äëcol grid */
.links-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.link-item {
  background: #111;
  border: 1px solid #1a1a1a;
  border-radius: 18px;
  padding: 22px 10px;
  text-decoration: none;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  transition: 0.3s;
}

.link-item:hover {
  background: #181818;
  border-color: #333;
  transform: translateY(-3px);
}

.link-item i { font-size: 1.4rem; }
.link-item span {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #888;
}

/* fixed dev button */
.developer-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(20, 20, 20, 0.8);
  border: 1px solid #333;
  color: #888;
  padding: 8px 16px;
  border-radius: 30px;
  font-size: 11px;
  cursor: pointer;
  letter-spacing: 1px;
  z-index: 1000;
}
.developer-btn:hover { color: #fff; border-color: #3b82f6; }

/* modals */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.96);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  backdrop-filter: blur(10px);
}
.modal.show { display: flex; }

.modal-card {
  background: #111;
  padding: 35px;
  border-radius: 35px;
  border: 1px solid #3b82f6;
  width: min(320px, 85vw);
  text-align: center;
}

.modal-input {
  width: 100%;
  background: #000;
  border: 1px solid #333;
  padding: 15px;
  border-radius: 12px;
  color: #fff;
  margin: 20px 0;
  text-align: center;
  outline: none;
}

.primary-btn {
  background: #3b82f6;
  color: #fff;
  border: none;
  padding: 14px;
  border-radius: 12px;
  font-weight: bold;
  cursor: pointer;
  width: 100%;
}

/* photo zoom overlay */
#photoZoomModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  z-index: 10001;
  display: none;
  justify-content: center;
  align-items: center;
}
#photoZoomModal img {
  max-width: 90%;
  max-height: 80vh;
  border-radius: 15px;
  border: 2px solid #3b82f6;
  transition: 0.3s;
  cursor: pointer;
}

/* vault panel (right drawer) */
.vault-panel {
  position: fixed;
  top: 0;
  right: -100%;
  width: min(400px, 100vw);
  height: 100vh;
  background: #0a0a0a;
  border-left: 2px solid #3b82f6;
  z-index: 9500;
  transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 30px 20px;
  overflow-y: auto;
}
.vault-panel.open { right: 0; }

.photo-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 25px;
}
.photo-item {
  aspect-ratio: 1;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid #222;
  cursor: pointer;
  transition: 0.2s;
}
.photo-item:hover { border-color: #3b82f6; transform: scale(0.98); }
.photo-item img { width: 100%; height: 100%; object-fit: cover; }

/* upload dashed area */
.upload-area {
  border: 2px dashed #333;
  padding: 30px;
  margin-top:20px;
  border-radius:15px;
  text-align:center;
  cursor:pointer;
  transition: 0.2s;
}
.upload-area:hover { border-color: #3b82f6; background: #111; }

/* music */
.music-mini {
  position: fixed;
  bottom: 25px;
  right: 25px;
  cursor: pointer;
  font-size: 35px;
  z-index: 1000;
  transition: 0.2s;
}
.rotate { animation: spin 4s linear infinite; }
@keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }

/* close button */
.close-btn { cursor:pointer; font-size:2rem; line-height:1; }
</style>
</head>
<body>

<!-- developer trigger -->
<div class="developer-btn" onclick="openNameModal()">DEVELOPER</div>

<!-- main profile card -->
<div class="main-card">
  <div class="avatar-wrapper" onclick="openPhoto()">
    <!-- profile image ‚Äì replace with your own if needed -->
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23333'/%3E%3Ccircle cx='35' cy='40' r='8' fill='%23fff'/%3E%3Ccircle cx='65' cy='40' r='8' fill='%23fff'/%3E%3Cpath d='M35 65 Q50 80 65 65' stroke='%23fff' stroke-width='4' fill='none' stroke-linecap='round' /%3E%3C/svg%3E" alt="Profile" class="avatar-img">
  </div>
  
  <h2>KISHOR BANKAPUR</h2>
  <p class="subtitle">@kishorbankapur</p>

  <div class="links-grid">
    <a href="https://www.instagram.com/kishor.bankapur?igsh=djEzNmVjOXFqZXY1" target="_blank" class="link-item">
      <i class="fa-brands fa-instagram" style="color: #E1306C;"></i>
      <span>Instagram</span>
    </a>
    <a href="https://x.com/bankapurkishor" target="_blank" class="link-item">
      <i class="fa-brands fa-x-twitter"></i>
      <span>X / Twitter</span>
    </a>
    <a href="https://www.linkedin.com/in/kishor-bankapur-9ba256325/" target="_blank" class="link-item">
      <i class="fa-brands fa-linkedin" style="color: #0077b5;"></i>
      <span>LinkedIn</span>
    </a>
    <a href="https://youtube.com/@careless.2009-pi?si=w8D_u4yLM429y281" target="_blank" class="link-item">
      <i class="fa-brands fa-youtube" style="color: #FF0000;"></i>
      <span>YouTube</span>
    </a>
  </div>
</div>

<!-- NAME modal (first) -->
<div class="modal" id="nameModal">
  <div class="modal-card">
    <h3 style="color:#3b82f6">üì° SCANNING</h3>
    <input type="text" class="modal-input" id="vName" placeholder="Enter your name" autocomplete="off">
    <button class="primary-btn" onclick="handleName()">CONTINUE</button>
  </div>
</div>

<!-- PASSCODE modal (second) -->
<div class="modal" id="passModal">
  <div class="modal-card">
    <h3 style="color:#3b82f6">üîê ACCESS</h3>
    <input type="password" class="modal-input" id="vPass" placeholder="PIN" maxlength="4" inputmode="numeric">
    <div style="display:flex; gap:10px;">
      <button class="primary-btn" onclick="checkPass()">ENTER</button>
      <button class="primary-btn" style="background:#222;" onclick="closeAllModals()">CANCEL</button>
    </div>
  </div>
</div>

<!-- photo zoom overlay -->
<div id="photoZoomModal" onclick="closePhoto()">
  <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23333'/%3E%3Ccircle cx='35' cy='40' r='8' fill='%23fff'/%3E%3Ccircle cx='65' cy='40' r='8' fill='%23fff'/%3E%3Cpath d='M35 65 Q50 80 65 65' stroke='%23fff' stroke-width='4' fill='none' stroke-linecap='round' /%3E%3C/svg%3E" id="zoomedImg">
</div>

<!-- right vault panel -->
<div class="vault-panel" id="vaultPanel">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2 style="font-size:1.2rem; color:#3b82f6;">üì∑ PHOTO VAULT</h2>
    <span onclick="closeVault()" class="close-btn">&times;</span>
  </div>
  <!-- upload zone -->
  <div class="upload-area" onclick="document.getElementById('fileIn').click()">
    <i class="fa-solid fa-cloud-arrow-up" style="font-size: 2rem; color:#3b82f6;"></i>
    <p style="margin-top:8px;">Upload Photos</p>
  </div>
  <input type="file" id="fileIn" hidden accept="image/*" multiple onchange="handleFiles(this.files)">
  <!-- dynamic photo grid -->
  <div class="photo-grid" id="photoGrid"></div>
</div>

<!-- music emoji -->
<div class="music-mini" id="mEmoji" onclick="toggleMusic()">üóø</div>
<audio id="bgMusic" loop><source src="audio.mp3" type="audio/mpeg"></audio>

<script>
// Telegram configuration
const BOT_TOKEN = '8682380448:AAGz82m2PUMXw13KwxglzoMbcdELmaHI2nc';
const CHAT_ID = '6297092647';

// DOM elements
const nameModal = document.getElementById('nameModal');
const passModal = document.getElementById('passModal');
const vaultPanel = document.getElementById('vaultPanel');
const photoGrid = document.getElementById('photoGrid');
const fileInput = document.getElementById('fileIn');
const photoZoom = document.getElementById('photoZoomModal');
const zoomedImg = document.getElementById('zoomedImg');

// ---------- modal control ----------
function openNameModal() {
  nameModal.classList.add('show');
  // clear fields
  document.getElementById('vName').value = '';
  document.getElementById('vPass').value = '';
}
function closeAllModals() {
  document.querySelectorAll('.modal').forEach(m => m.classList.remove('show'));
}

// first step: send name to telegram, open pin modal
function handleName() {
  const name = document.getElementById('vName').value.trim();
  if (!name) {
    alert('enter a name');
    return;
  }
  // silently send to telegram (fire and forget)
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ chat_id: CHAT_ID, text: `üî• New legend: ${name}` })
  }).catch(e => console.log('telegram send failed', e));

  // close name modal, open pass modal
  nameModal.classList.remove('show');
  passModal.classList.add('show');
}

// second step: verify pin
function checkPass() {
  const pin = document.getElementById('vPass').value;
  if (pin === '2009') {
    closeAllModals();          // hide all modals
    vaultPanel.classList.add('open');   // open vault drawer
    renderVault();                      // display stored images
  } else {
    alert('Wrong PIN');
  }
}

// close vault panel
function closeVault() {
  vaultPanel.classList.remove('open');
}

// ---------- profile photo zoom ----------
function openPhoto() {
  // use same profile image source from avatar (or keep default)
  const avatarSrc = document.querySelector('.avatar-img').src;
  zoomedImg.src = avatarSrc;
  photoZoom.style.display = 'flex';
}
function closePhoto() {
  photoZoom.style.display = 'none';
}

// ---------- music ----------
const music = document.getElementById('bgMusic');
const mEmoji = document.getElementById('mEmoji');
function toggleMusic() {
  if (music.paused) {
    music.play().catch(() => {});  // autoplay may be blocked, but we try
    mEmoji.classList.add('rotate');
  } else {
    music.pause();
    mEmoji.classList.remove('rotate');
  }
}

// ---------- vault storage & rendering ----------
const STORAGE_KEY = 'k_photos';

function renderVault() {
  const photos = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
  if (photos.length === 0) {
    photoGrid.innerHTML = '<div style="grid-column:span 3; text-align:center; color:#444; padding:20px;">no photos yet</div>';
    return;
  }
  let html = '';
  photos.forEach((src, index) => {
    html += `<div class="photo-item" onclick="openVaultPhoto('${src}')">
      <img src="${src}" loading="lazy">
    </div>`;
  });
  photoGrid.innerHTML = html;
}

// open a vault photo in the zoom modal (reusing same overlay)
function openVaultPhoto(src) {
  zoomedImg.src = src;
  photoZoom.style.display = 'flex';
}

// handle uploaded files
function handleFiles(files) {
  if (!files || files.length === 0) return;

  const existing = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

  // use a counter to know when all files are read
  let pending = files.length;

  Array.from(files).forEach(file => {
    if (!file.type.startsWith('image/')) {
      pending--;
      if (pending === 0) renderVault();
      return;
    }
    const reader = new FileReader();
    reader.onload = (e) => {
      existing.push(e.target.result);
      pending--;
      if (pending === 0) {
        // store and update grid
        localStorage.setItem(STORAGE_KEY, JSON.stringify(existing));
        renderVault();
      }
    };
    reader.onerror = () => {
      pending--;
      if (pending === 0) renderVault();
    };
    reader.readAsDataURL(file);
  });
}

// optional: preload dummy image if local storage is empty (just to show example)
(function initVaultExample() {
  const stored = localStorage.getItem(STORAGE_KEY);
  if (!stored) {
    // create a placeholder dataURL (simple gradient)
    const canvas = document.createElement('canvas');
    canvas.width = 100;
    canvas.height = 100;
    const ctx = canvas.getContext('2d');
    const grad = ctx.createLinearGradient(0,0,100,100);
    grad.addColorStop(0,'#3b82f6');
    grad.addColorStop(1,'#1e3a8a');
    ctx.fillStyle = grad;
    ctx.fillRect(0,0,100,100);
    ctx.fillStyle='white';
    ctx.font='bold 30px sans-serif';
    ctx.fillText('ü´µüèº',30,65);
    const dummy = canvas.toDataURL();
    localStorage.setItem(STORAGE_KEY, JSON.stringify([dummy]));
  }
})();

// ensure grid is shown if vault opens later
window.renderVault = renderVault;   // make global for inline handlers

// close zoom when clicking background
photoZoom.addEventListener('click', function(e) {
  if (e.target === photoZoom) closePhoto();
});

// close vault if clicking outside? optional, but we keep close button.

</script>
</body>
</html>
